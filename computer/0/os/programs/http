http.request("http://google.com")

local requesting = true

while requesting do
  local event, url, sorceText = os.pullEvent()
  
  if event == "http_success" then
    local respondedText = sorceText.readAll()
    
    sourceText.close()
    print(respondedText)
    
    requesting = false
  elseif event == "http_failure" then
    print("Server didn't respond.")
    
    requesting = false
  end
end



--local sExample = http.get("http://example.com/")
--write(sExample.readall())
--sExample.close()
